<!-- Thanksgiving Survival Tips Widget (dark-mode aware, compact padding, iframe-friendly) -->
<div class="tnx-tips-widget"></div>
<script>
(function () {
  const host = document.currentScript.previousElementSibling;
  if (!host || !host.classList.contains('tnx-tips-widget')) return;

  const shadow = host.attachShadow({ mode: 'open' });
  const uid = 'tnx' + Math.random().toString(36).slice(2, 8);

  shadow.innerHTML = `
    <section class="tnx" aria-labelledby="tnx-title-${uid}" role="region">
      <style>
        :host {
          display: block;
          max-width: 1100px;
          margin: 0 auto;
          padding: 0; /* tight outer edge for iframes */
          box-sizing: border-box;
        }

        .tnx {
          --cranberry: #B22B3B;
          --pumpkin:   #E87524;
          --mustard:   #F1C232;
          --sage:      #A6B58E;
          --sage-soft: #E4EAD5;
          --beige:     #F9F6F1;
          --charcoal:  #2C2C2C;

          --bg:       #FFFFFF;
          --surface:  #FFFFFF;
          --ink:      var(--charcoal);
          --muted:    #5F625E;
          --card:     #FFFCF6;
          --border:   #E3E0D6;
          --radius:   14px;
          --shadow:   0 10px 25px rgba(0,0,0,0.06);

          color: var(--ink);
          background: linear-gradient(180deg, var(--beige), #FFFFFF);
          border-radius: 16px;
          border: 1px solid rgba(0,0,0,0.04);
          box-shadow: var(--shadow);
          font: 15px/1.55 system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
          position: relative;
          overflow: hidden;
        }

        .tnx::before {
          content: "";
          position: absolute;
          inset: 0 0 auto 0;
          height: 4px;
          background: linear-gradient(90deg, var(--sage-soft), var(--mustard), var(--pumpkin), var(--cranberry));
        }

        /* ✅ Tight inner padding (compact version) */
        .tnx-inner {
          padding: 1rem 1.1rem 1rem;
        }

        .tnx-eyebrow {
          text-transform: uppercase;
          letter-spacing: 0.08em;
          font-size: 0.78rem;
          color: var(--muted);
          font-weight: 700;
        }

        .tnx-title {
          margin: 0.25rem 0 0.3rem;
          font-size: clamp(1.5rem, 2.6vw, 2rem);
          font-weight: 800;
          line-height: 1.15;
        }

        .tnx-sub {
          margin: 0 0 0.9rem;
          color: var(--muted);
          font-size: 0.95rem;
          max-width: 640px;
        }

        .tnx-grid {
          --col-min: clamp(240px, 26vw, 320px);
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(var(--col-min), 1fr));
          gap: 0.9rem;
        }

        .tnx-card {
          position: relative;
          background: var(--card);
          border-radius: var(--radius);
          border: 1px solid var(--border);
          padding: 0.8rem 0.9rem 1.4rem;
          min-height: 125px;
          box-shadow: 0 1px 2px rgba(0,0,0,0.03);
          transition: transform 0.16s ease, box-shadow 0.16s ease, border-color 0.16s ease;
        }

        .tnx-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 10px 24px rgba(0,0,0,0.08);
          border-color: rgba(178,43,59,0.35);
        }

        .tnx-badge {
          position: absolute;
          inset: auto 10px 10px auto;
          padding: 4px 8px;
          border-radius: 999px;
          font-size: 0.72rem;
          font-weight: 700;
          color: #4A221E;
          background: linear-gradient(135deg, #FFE7D5, #F9D0C9);
          border: 1px solid rgba(178,43,59,0.35);
        }

        @media (prefers-color-scheme: dark) {
          .tnx {
            --bg:      #121317;
            --surface: #181A1F;
            --ink:     #ECEFF3;
            --muted:   #B5BCC4;
            --card:    #181A1F;
            --border:  #2C303A;
            --shadow:  none;

            background: radial-gradient(circle at top, #1E2128, #0F1115);
            border-color: #262933;
          }
          .tnx-badge {
            color: #160809;
            background: radial-gradient(circle at top, rgba(248,202,185,0.35), rgba(178,43,59,0.45));
          }
        }

        :host-context(.dark) .tnx-badge,
        :host-context(.theme-dark) .tnx-badge,
        :host-context([data-theme="dark"]) .tnx-badge {
          color: #160809;
          background: radial-gradient(circle at top, rgba(248,202,185,0.35), rgba(178,43,59,0.45));
        }

        .tnx-rule-title {
          display: flex;
          align-items: flex-start;
          gap: 8px;
          margin: 0 0 0.25rem;
          font-weight: 750;
          font-size: 1rem;
          line-height: 1.3;
        }

        .tnx-icon {
          width: 22px;
          height: 22px;
          flex: 0 0 22px;
          color: var(--cranberry);
        }

        .tnx-text {
          margin: 0;
          font-size: 0.93rem;
          color: var(--muted);
        }

        .tnx-footer {
          margin-top: 0.85rem;
          padding-top: 0.55rem;
          border-top: 1px dashed rgba(0,0,0,0.08);
          font-size: 0.84rem;
          color: var(--muted);
        }

        @media (prefers-color-scheme: dark) {
          .tnx-footer { border-top-color: rgba(255,255,255,0.08); }
        }

        .tnx-share {
          margin-top: 0.3rem;
          text-align: right;
          font-size: 0.78rem;
        }

        @media (max-width: 640px) {
          .tnx-inner {
            padding: 0.85rem 0.9rem 0.9rem;
          }
          .tnx-grid {
            gap: 0.75rem;
          }
          .tnx-card {
            padding: 0.75rem 0.8rem 1.3rem;
          }
        }
      </style>

      <div class="tnx-inner">
        <div class="tnx-eyebrow">Thanksgiving Survival Tips</div>
        <h2 id="tnx-title-${uid}" class="tnx-title">Five Ways to Improve Your Thanksgiving Odds</h2>
        <p class="tnx-sub">
          The odds of a peaceful Thanksgiving aren’t fixed. These small moves make it a little more likely everyone leaves speaking.
        </p>

        <div class="tnx-grid" role="list">
          <article class="tnx-card" role="listitem">
            <div class="tnx-badge" aria-hidden="true">Tip 1</div>
            <h3 class="tnx-rule-title">
              <svg class="tnx-icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M4 7h16v2H4zM6 11h12v2H6zM9 15h6v2H9z" fill="currentColor"/></svg>
              Spread the work, not the stress.
            </h3>
            <p class="tnx-text">Ask for help early. Shared cooking means shared blame and fewer simmering resentments.</p>
          </article>

          <article class="tnx-card" role="listitem">
            <div class="tnx-badge" aria-hidden="true">Tip 2</div>
            <h3 class="tnx-rule-title">
              <svg class="tnx-icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.6" fill="none"/><path d="M8 12h8" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg>
              Call the no-politics rule early.
            </h3>
            <p class="tnx-text">Say it with a smile, mean it like a boundary. Everyone knows the line before the first pour.</p>
          </article>

          <article class="tnx-card" role="listitem">
            <div class="tnx-badge" aria-hidden="true">Tip 3</div>
            <h3 class="tnx-rule-title">
              <svg class="tnx-icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M7 4h10v6a5 5 0 1 1-10 0V4z" stroke="currentColor" stroke-width="1.6" fill="none"/><path d="M9 20h6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg>
              Pace the pours.
            </h3>
            <p class="tnx-text">Water between drinks is the easiest way to keep “fun” from turning into “that night.”</p>
          </article>

          <article class="tnx-card" role="listitem">
            <div class="tnx-badge" aria-hidden="true">Tip 4</div>
            <h3 class="tnx-rule-title">
              <svg class="tnx-icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M5 7.5 12 4l7 3.5-7 3.5z" stroke="currentColor" stroke-width="1.6" fill="none"/><path d="M5 12.5 12 9l7 3.5-7 3.5z" stroke="currentColor" stroke-width="1.6" fill="none"/></svg>
              Pivot to pie.
            </h3>
            <p class="tnx-text">When things tighten up, jump to dessert, pets, or plans. Almost nobody fights over pie.</p>
          </article>

          <article class="tnx-card" role="listitem">
            <div class="tnx-badge" aria-hidden="true">Tip 5</div>
            <h3 class="tnx-rule-title">
              <svg class="tnx-icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="8" r="3" stroke="currentColor" stroke-width="1.6" fill="none"/><path d="M5.5 19a6.5 6.5 0 0 1 13 0" stroke="currentColor" stroke-width="1.6" fill="none"/></svg>
              Step away before you snap.
            </h3>
            <p class="tnx-text">Take a lap, check the score, or hide with the dishes. Space beats the perfect comeback every time.</p>
          </article>
        </div>

        <div class="tnx-footer">
          <strong>Bottom line:</strong> Thanksgiving is a long game. Protect the relationships — the rest is leftovers.
        </div>
      </div>
    </section>
  `;
})();
</script>
